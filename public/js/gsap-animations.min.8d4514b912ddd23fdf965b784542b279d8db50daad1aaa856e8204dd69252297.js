const ANIMATION_CONFIG={hero:{diagonalLines:{count:4,opacity:.4,scaleX:4}}},COMMON_ANIMATIONS={fadeIn:{opacity:1,y:0,rotationX:0,duration:.8,ease:"power2.out"},scrollEnter:{opacity:1,y:0,scale:1,duration:.6,ease:"back.out(1.7)"}},ANIMATION_REGISTRY={registeredElements:new Set,registerElement:(e,t)=>{const n=`${e.tagName}-${e.className.split(" ")[0]}-${t}`;return!ANIMATION_REGISTRY.registeredElements.has(n)&&(ANIMATION_REGISTRY.registeredElements.add(n),!0)},isElementAnimated:(e,t)=>{const n=`${e.tagName}-${e.className.split(" ")[0]}-${t}`;return ANIMATION_REGISTRY.registeredElements.has(n)}},Utils={createContainer:(e,t,n)=>e.querySelector(t)||(()=>{const t=document.createElement("div");return t.className=n,e.appendChild(t),t})(),randomPosition:(e=10,t=90)=>({x:Math.random()*(t-e)+e,y:Math.random()*(t-e)+e})};function initQuickFactLighting(){const e=document.querySelectorAll(".quick-fact-card");if(e.length===0)return;e.forEach(e=>{e.addEventListener("mousemove",t=>{const n=e.getBoundingClientRect(),s=(t.clientX-n.left)/n.width*100,o=(t.clientY-n.top)/n.height*100;e.style.setProperty("--mouse-x",`${s}%`),e.style.setProperty("--mouse-y",`${o}%`)}),e.addEventListener("mouseleave",()=>{e.style.setProperty("--mouse-x","50%"),e.style.setProperty("--mouse-y","50%")})})}document.addEventListener("DOMContentLoaded",function(){if(typeof gsap=="undefined"){console.warn("GSAP not loaded. Loading from CDN..."),loadGSAP();return}initializeHeroAnimations()});function loadGSAP(){const e=(e,t,n)=>{console.log(`Loading GSAP from: ${e}`);const s=document.createElement("script");s.src=e,s.onerror=s=>{console.warn(`Failed to load GSAP from ${e}, trying fallback: ${t}`);const o=document.createElement("script");o.src=t,o.onload=()=>{console.log("GSAP loaded from fallback successfully"),n()},o.onerror=e=>{console.error("Both GSAP sources failed to load:",s,e)},document.head.appendChild(o)},s.onload=()=>{console.log("GSAP loaded successfully from primary source"),n()},document.head.appendChild(s)};e("https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.0/gsap.min.js","https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.0/gsap.min.js",()=>{initializeHeroAnimations()})}function initializeHeroAnimations(){console.log("Initializing hero animation system...");const e=document.querySelector(".hero-section");if(!e)return;console.log("ðŸŽ¯ Initializing hero animations...");const n=e.querySelectorAll("[data-animation]"),t=e.querySelectorAll(".absolute.opacity-10 > div"),s=document.querySelectorAll(".quick-fact-card"),o=e.querySelector('[data-animation="location-badge"]');n.length>0&&gsap.set(n,{opacity:0,y:50,rotationX:-15}),t.length>0&&gsap.set(t,{opacity:0,scale:.5,rotation:-180}),s.length>0&&gsap.set(s,{opacity:0,y:20,scale:.95}),o&&gsap.set(o,{opacity:0,y:20}),t.forEach((e,t)=>{const n=t*.5,s=(Math.random()-.5)*40,o=(Math.random()-.5)*30,i=3+Math.random()*2;gsap.timeline({repeat:-1,yoyo:!0,delay:n}).to(e,{x:s,y:o,duration:i,ease:"power1.inOut"}),gsap.to(e,{rotation:360,duration:8+Math.random()*4,ease:"none",repeat:-1,delay:n}),e.setAttribute("data-natural-animation","true")}),initMouseTracking(e),initSectionBackgroundAnimations(".hero-section",ANIMATION_CONFIG.hero),initTypingEffect(),initQuickFactLighting();const i=gsap.timeline();n.length>0&&i.to(n,{opacity:1,y:0,rotationX:0,scale:1,duration:.8,stagger:.1,ease:"back.out(1.7)"}),t.length>0&&i.to(t,{opacity:.1,scale:1,rotation:0,duration:1,stagger:.1},"-=0.6"),s.length>0&&i.to(s,{opacity:1,y:0,scale:1,duration:.6,stagger:.1,ease:"power2.out"},"-=0.4"),o&&i.to(o,{opacity:1,y:0,duration:.5,ease:"back.out(1.7)"},"-=0.3")}let typingEffectInitialized=!1;function initTypingEffect(){if(typingEffectInitialized)return;const e=document.querySelector(".typewriter");if(!e)return;const i=e.getAttribute("data-original-text")||e.textContent,s=i.split(". ").map(e=>e.trim()).filter(e=>e.length>0);let n=0;e.textContent="",e.style.color="transparent";const t=document.createElement("span");t.className="typing-cursor",Object.assign(t.style,{display:"inline-block",width:"2px",height:"1.2em",backgroundColor:"var(--color-primary-light)",marginLeft:"2px",verticalAlign:"text-bottom"}),e.appendChild(t),gsap.to(t,{opacity:0,duration:.7,ease:"power2.inOut",yoyo:!0,repeat:-1});function a(n,s){const i=n.split(""),o=gsap.timeline();i.forEach((n,s)=>{o.to(e,{duration:.08,onUpdate:function(){const n=i.slice(0,s+1).join("");e.textContent=n,e.appendChild(t),e.style.color="inherit"}})}),o.to(e,{duration:1.5});const a=[...i].reverse();a.forEach((n,s)=>{o.to(e,{duration:.04,onUpdate:function(){const n=a.slice(s+1).reverse().join("");e.textContent=n,e.appendChild(t)}})}),o.to(e,{duration:.5}),o.call(s)}function o(){n>=s.length&&(n=0),a(s[n],()=>{n++,setTimeout(o,200)})}setTimeout(o,1e3),typingEffectInitialized=!0}function initMouseTracking(e){let s=0,o=0,t=!1,n=null;const a=16,r={mouseenter:()=>{t=!0,i()},mouseleave:()=>{t=!1,c()},mousemove:r=>{if(!t)return;const c=e.getBoundingClientRect();s=(r.clientX-c.left)/c.width,o=(r.clientY-c.top)/c.height,n||(n=setTimeout(()=>{i(),n=null},a))}};Object.entries(r).forEach(([t,n])=>{e.addEventListener(t,n)});function i(){if(!t)return;const n=(s-.5)*2,i=(o-.5)*2,a=[{selector:".morphing-shape",sensitivity:{x:40,y:30,rotate:25,scale:.2}},{selector:".diagonal-line",sensitivity:{x:25,y:20,rotate:15,scale:.1}},{selector:".spline-curve",sensitivity:{x:15,y:12,rotate:8,scale:.05}}];a.forEach(({selector:t,sensitivity:s})=>{const o=e.querySelectorAll(t);o.forEach((e,t)=>{if(e.hasAttribute("data-natural-animation"))return;const o=t+1;gsap.to(e,{x:n*(s.x+t*8),y:i*(s.y+t*6),rotation:n*(s.rotate+t*5),scale:1+Math.abs(n+i)*(s.scale+t*.05),duration:1.2+t*.3,ease:"power2.out"})})});const r=Math.abs(n+i)*.3;gsap.to(e,{boxShadow:`0 0 ${20+r*50}px var(--color-primary-light)`,duration:.5,ease:"power2.out"})}function c(){const t=e.querySelectorAll(".morphing-shape, .diagonal-line, .spline-curve"),n=Array.from(t).filter(e=>!e.hasAttribute("data-natural-animation"));gsap.to(n,{x:0,y:0,rotation:0,scale:1,duration:.8,ease:"power2.out"}),gsap.to(e,{boxShadow:"none",duration:.5,ease:"power2.out"})}}function createAndAnimateDiagonalLines(e,t={}){const n={count:4,background:"linear-gradient(45deg, transparent, var(--color-primary-light), transparent)",height:3,width:1200,opacity:.4,scaleX:4,duration:4,rotationDuration:8,...t},s=Array.from({length:n.count},()=>{const o=document.createElement("div"),i=Utils.randomPosition();return Object.assign(o.style,{position:"absolute",background:n.background,height:n.height+"px",width:n.width+"px",opacity:"0",zIndex:"1",left:i.x+"%",top:i.y+"%",transform:`rotate(${Math.random()*360}deg)`,transformOrigin:"center center"}),o.className="diagonal-line",e.appendChild(o),o});return s.forEach((e,t)=>{gsap.timeline({repeat:-1,yoyo:!0}).to(e,{opacity:n.opacity,scaleX:n.scaleX,duration:n.duration,delay:t*.8,ease:"power2.inOut"}).to(e,{rotation:"+=180",duration:n.rotationDuration,ease:"none"},0)}),s}function createAndAnimateSplineCurves(e,t={}){const n={count:3,size:180,border:"3px solid var(--color-primary)",opacity:.6,scale:1.2,duration:6,rotationDuration:10,...t},s=Array.from({length:n.count},()=>{const o=document.createElement("div"),i=Utils.randomPosition();return Object.assign(o.style,{position:"absolute",width:n.size+"px",height:n.size+"px",border:n.border,borderRadius:"50%",opacity:"0",zIndex:"1",left:i.x+"%",top:i.y+"%"}),o.className="spline-curve",e.appendChild(o),o});return s.forEach((e,t)=>{gsap.timeline({repeat:-1,yoyo:!0}).to(e,{opacity:n.opacity,scale:n.scale,borderRadius:"0%",duration:n.duration,delay:t*1.2,ease:"power2.inOut"}).to(e,{rotation:360,duration:n.rotationDuration,ease:"none"},0)}),s}function initSectionBackgroundAnimations(e,t={}){const s=document.querySelector(e);if(!s){console.warn(`Section with selector "${e}" not found. Skipping background animations.`);return}const n=Utils.createContainer(s,".morphing-shapes","morphing-shapes absolute inset-0 pointer-events-none overflow-hidden");n.innerHTML="",createAndAnimateDiagonalLines(n,t.diagonalLines),createAndAnimateSplineCurves(n,t.splineCurves)}document.addEventListener("visibilitychange",function(){document.hidden?gsap.globalTimeline.pause():gsap.globalTimeline.resume()}),window.addEventListener("resize",function(){typeof gsap!="undefined"&&gsap.globalTimeline.invalidate()})